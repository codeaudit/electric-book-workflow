









































<!doctype html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <title>
    
    The Electric Book guide: Images
    
    </title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta property="og:title" content="Images" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://electricbook.works/guide/text/15-images.html" />
    
    <meta property="og:image" content="http://electricbook.works/guide/images/cover.jpg" />
    

    
    <link rel="stylesheet" type="text/css" media="screen" href="../styles/web.css" />
    <link rel="stylesheet" type="text/css" media="print" href="../styles/screen-pdf.css" />
    

    




</head>
<!--ontouchstart="" onmouseover="" required for iOS devices-->
<body class="guide chapter" title="Images" ontouchstart="" onmouseover="">



<div class="masthead">



    <ul>
        
        <li class="masthead-series-name"><a href="/" title="Home: The Electric Book workflow">The Electric Book workflow</a></li>
        
        <li class="masthead-book-title"><a href="0-3-contents" title="Contents: The Electric Book guide">The Electric Book guide</a></li>
    </ul>



</div><!--.masthead-->











































    

        <div class="nav-wrapper">
            <div id="nav" class="non-printing">
            
                <div class="search">
                    











































<form class="search" action="/guide/text/search.html" method="get">
  <label for="search-box"></label>
  <input type="text" id="search-box" name="query" placeholder="Search">
</form>



                </div><!--.search-->

                <div class="nav-list">

                    
                    
                        <ol class="nav-series-home">
                            <li><a href="/">Home</a></li>
                        </ol>
                    

                    
                    






<ol class="active">
  
      <li class="
      no-file
      ">
          <a 
             class="">
              Setup
          </a>
      </li>
      
              






<ol class="">
  
      <li class="
      
      no-children">
          <a href="0-9-quick-start.html"
             class="">
              Quick start
          </a>
      </li>
      
  
      <li class="
      
      no-children">
          <a href="01-intro.html"
             class="">
              Introduction
          </a>
      </li>
      
  
      <li class="
      
      no-children">
          <a href="02-setting-up.html"
             class="">
              Setting up
          </a>
      </li>
      
  
</ol>

      
  
      <li class="
      no-file
      ">
          <a 
             class="">
              Editing
          </a>
      </li>
      
              






<ol class="active">
  
      <li class="
      
      no-children">
          <a href="03-markdown.html"
             class="">
              Markdown
          </a>
      </li>
      
  
      <li class="
      
      no-children">
          <a href="05-classes.html"
             class="">
              Classes
          </a>
      </li>
      
  
      <li class="
      
      no-children">
          <a href="10-tocs.html"
             class="">
              Tables of contents
          </a>
      </li>
      
  
      <li class="active
      
      no-children">
          <a href="15-images.html"
             class="active">
              Images
          </a>
      </li>
      
  
      <li class="
      
      no-children">
          <a href="16-video.html"
             class="">
              Video
          </a>
      </li>
      
  
      <li class="
      
      no-children">
          <a href="17-notes.html"
             class="">
              Notes
          </a>
      </li>
      
  
      <li class="
      
      no-children">
          <a href="18-tables.html"
             class="">
              Tables
          </a>
      </li>
      
  
      <li class="
      
      no-children">
          <a href="19-indexes.html"
             class="">
              Indexes
          </a>
      </li>
      
  
      <li class="
      
      no-children">
          <a href="20-poetry.html"
             class="">
              Poetry
          </a>
      </li>
      
  
      <li class="
      
      no-children">
          <a href="25-page-numbers.html"
             class="">
              Page numbers
          </a>
      </li>
      
  
      <li class="
      
      no-children">
          <a href="30-javascript.html"
             class="">
              Javascript
          </a>
      </li>
      
  
      <li class="
      
      no-children">
          <a href="40-indd-to-md.html"
             class="">
              InDesign conversion
          </a>
      </li>
      
  
</ol>

      
  
      <li class="
      no-file
      ">
          <a 
             class="">
              Output
          </a>
      </li>
      
              






<ol class="">
  
      <li class="
      
      no-children">
          <a href="50-print-output.html"
             class="">
              Print output
          </a>
      </li>
      
  
      <li class="
      
      no-children">
          <a href="51-epub-output.html"
             class="">
              Epub output
          </a>
      </li>
      
  
</ol>

      
  
      <li class="
      no-file
      ">
          <a 
             class="">
              Troubleshooting
          </a>
      </li>
      
              






<ol class="">
  
      <li class="
      
      no-children">
          <a href="60-troubleshooting.html"
             class="">
              Troubleshooting
          </a>
      </li>
      
  
</ol>

      
  
</ol>


                </div><!--.nav-list-->

                <div class="widgets">
                    


                </div><!--.widgets-->

            </div><!--#nav-->
        </div><!--.nav-wrapper-->

    



	<div id="wrapper">

<h1 class="no_toc" id="images">Images</h1>

<ul id="markdown-toc">
  <li><a href="#adding-images-in-markdown" id="markdown-toc-adding-images-in-markdown">Adding images in markdown</a></li>
  <li><a href="#alternative-image-sets" id="markdown-toc-alternative-image-sets">Alternative image sets</a></li>
  <li><a href="#image-placement" id="markdown-toc-image-placement">Image placement</a></li>
  <li><a href="#preparing-images" id="markdown-toc-preparing-images">Preparing images</a>    <ul>
      <li><a href="#recommended-image-sizes" id="markdown-toc-recommended-image-sizes">Recommended image sizes</a></li>
      <li><a href="#resolution" id="markdown-toc-resolution">Resolution</a></li>
      <li><a href="#image-styles" id="markdown-toc-image-styles">Image styles</a></li>
      <li><a href="#image-file-sizes" id="markdown-toc-image-file-sizes">Image file sizes</a></li>
      <li><a href="#cover-images" id="markdown-toc-cover-images">Cover images</a></li>
    </ul>
  </li>
</ul>

<h2 id="adding-images-in-markdown">Adding images in markdown</h2>

<p>We use standard markdown to embed images:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>![A description of the image](../{{ site.image-set }}/filename.svg)
</code></pre>
</div>

<p>Let’s break that down:</p>

<ul>
  <li>the exclamation mark and square and round brackets make up the masic markdown image syntax: <code class="highlighter-rouge">![Description](filename)</code>. The description is especially important for screen-readers used by the visually impaired.</li>
  <li><code class="highlighter-rouge">../</code> means ‘go up, out of the <code class="highlighter-rouge">text</code> folder’</li>
  <li><code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">site.image-set</span><span class="w"> </span><span class="p">}</span><span class="err">}/</span></code> means ‘go into the folder containing our preferred set of images’ (as defined in <code class="highlighter-rouge">_config.yml</code>). The default image-set folder is <code class="highlighter-rouge">images</code>.</li>
  <li>finally, the image file name.</li>
</ul>

<p>Many images are in figures. That is, they include an image followed by a caption. We put these together in a <code class="highlighter-rouge">&lt;blockquote&gt;</code> element with a <code class="highlighter-rouge">.figure</code> class. We can then control placement by styling the <code class="highlighter-rouge">&lt;blockquote&gt;</code>.</p>

<p>The reason we use a blockquote is that it lets us keep images and their captions together. A <code class="highlighter-rouge">&lt;figure&gt;</code> element would be better HTML, but it won’t validate in EPUB2, and can’t be created with kramdown.</p>

<p>Here’s an example of markdown for a figure:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&gt; ![Line drawing of a book](../{{ site.image-set }}/book.jpg)
&gt;
&gt; This is not a book.
{:.figure}
</code></pre>
</div>

<p>Every line (except the <code class="highlighter-rouge"><span class="p">{</span><span class="err">:.figure</span><span class="p">}</span></code> class tag at the end) starts with a <code class="highlighter-rouge">&gt;</code> and a space. These wrap the figure (image and caption) in a <code class="highlighter-rouge">blockquote</code> element.</p>

<p>The first line is the image reference. As noted above, it consists of:</p>

<ul>
  <li>an exclamation mark telling markdown that we’re placing an image</li>
  <li>the <code class="highlighter-rouge">alt</code> attribute in square brackets</li>
  <li>the path to the image file.</li>
</ul>

<p>The third line is the figure caption, followed by the kramdown tag <code class="highlighter-rouge"><span class="p">{</span><span class="err">:.figure</span><span class="p">}</span></code>, which lets our stylesheets format the <code class="highlighter-rouge">blockquote</code> as a figure. (For instance, preventing a page break between the image and the caption in print.)</p>

<p>This will display like this.</p>

<blockquote class="figure">
  <p><img src="../images/book.jpg" alt="Line drawing of a book" /></p>

  <p>This is not a book.</p>
</blockquote>

<p>If your image has no caption, just skip the empty line and caption line:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&gt; ![Figure 2-A: The Ballard scoring method](../{{ site.image-set }}/fig-2-A.svg)
{:.figure}
</code></pre>
</div>

<p>If it’s important to you that the image isn’t in a blockquote, and there is no caption, you can use:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>![Figure 2-A: The Ballard scoring method](../{{ site.image-set }}/fig-2-A.svg)
{:.figure}
</code></pre>
</div>

<h2 id="alternative-image-sets">Alternative image sets</h2>

<p>There are often good reasons for producing books with different sets of images. For instance, one edition may have colour images and another black-and-white. Or your print edition might call for high-res images, but you want low-res ones for the ebook.</p>

<p>By default, your markdown looks for images in the book’s <code class="highlighter-rouge">images</code> folder. You can set your config file to switch to an alternative set of images (in a subfolder of <code class="highlighter-rouge">images</code>) when needed. We do this by using the <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">site.image-set</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> tag to refer to whatever images folder we need at the time.</p>

<p>For example:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>![]({{ site.image-set }}/filename.jpg)
</code></pre>
</div>

<p>The default <code class="highlighter-rouge">image-set</code> is <code class="highlighter-rouge">images</code>. You can change that for each output as needed. For instance, you might create a subfolder for high-res images in <code class="highlighter-rouge">images</code> called <code class="highlighter-rouge">print</code>. In <code class="highlighter-rouge">_config.yml</code> you can set that subfolder as the default images folder.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>image-set: "images/hi-res"
</code></pre>
</div>

<p>Whenever you build your HTML, you then switch which set of images to use by commenting out the <code class="highlighter-rouge">image-set</code> setting(s) you don’t want. For example, when creating the high-res edition, in <code class="highlighter-rouge">_config.yml</code> you might comment out the default image path so that the HTML uses the high-res images:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#image-set: "images"
image-set: "images/print"
</code></pre>
</div>

<p>Remember that your images in your alternative images folder must have exactly the same file names as your default image set. The HTML will be looking for the same file names in a different folder.</p>

<p>To always use a specific image file for any given image, irrespective of the <code class="highlighter-rouge">images-set</code> config, simply hard-code your image path in markdown – that is, without using the <code class="highlighter-rouge"><span class="p">{</span><span class="err">{</span><span class="w"> </span><span class="err">site.image-set</span><span class="w"> </span><span class="p">}</span><span class="err">}</span></code> tag. For example, for a given image you might specify the default images folder <code class="highlighter-rouge">![](images/filename.jpg)</code> or a specific subfolder <code class="highlighter-rouge">![](images/nb/filename.jpg)</code>.</p>

<h2 id="image-placement">Image placement</h2>

<p>You may need to control how an image is sized and placed on the page – especially in print – depending on its detail or aspect ratio and nearby images or other elements. You do this by adding a class tag to the line following the image or figure created with a <code class="highlighter-rouge">&gt;</code> blockquote. (This applies a class to the blockquote in HTML.)</p>

<p>In the Classic theme, you have two broad options:</p>

<p>The lazy way: use these class attributes:</p>

<ul>
  <li><code class="highlighter-rouge">.x-small</code> limits the image height. In print, to 30mm.</li>
  <li><code class="highlighter-rouge">.small</code> limits the image height. In print, to 45mm.</li>
  <li><code class="highlighter-rouge">.medium</code> limits the image height. In print, to 65mm, which allows two figures with shortish captions to fit on a page.</li>
  <li><code class="highlighter-rouge">.large</code> fills the width and most of a printed page, up to 150mm tall. Try to put these images at the end of a section, because they cause a page break.</li>
  <li><code class="highlighter-rouge">.fixed</code> keeps the figure in its place in the text flow, and will not float it to the top or bottom of a page. For instance, when an image must appear in a step-by-step list of instructions.</li>
</ul>

<p>You add these classes to the `{:.figure} tag like this:</p>

<p><code class="highlighter-rouge"><span class="p">{</span><span class="err">:.figure</span><span class="w"> </span><span class="err">.small</span><span class="p">}</span></code></p>

<p><code class="highlighter-rouge"><span class="p">{</span><span class="err">:.figure</span><span class="w"> </span><span class="err">.fixed</span><span class="p">}</span></code></p>

<p>and so on. You can combine size and placement classes like this, too:</p>

<p><code class="highlighter-rouge"><span class="p">{</span><span class="err">:.figure</span><span class="w"> </span><span class="err">.fixed</span><span class="w"> </span><span class="err">.small</span><span class="p">}</span></code></p>

<p>The more accurate way: use a class tag to specify the exact height of the image in lines. This is important if you’re maintaining a baseline grid on your pages. For instance, <code class="highlighter-rouge"><span class="p">{</span><span class="err">:.height-5</span><span class="p">}</span></code> will limit the image to a height of five lines. Unlike the lazy way above, this tag should be applied to the image, not the figure. So a complete figure element might look like this in markdown:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>&gt; ![Potatoes on the moon](images/1-moon-potatoes.jpg)
&gt; {:.height-12}
&gt;
&gt; Potatoes grow well on the moon if well watered.
{:.figure}
</code></pre>
</div>

<blockquote>
  <p>CSS tip: <a href="http://stackoverflow.com/questions/24626908/how-to-get-rid-of-extra-space-below-svg-in-div-element">If you’re having trouble with SVGs having space around them</a>, in your CSS make sure you set the height of the <code class="highlighter-rouge">img</code> element. SVGs are inline elements by default, and will add white space around them.</p>
</blockquote>

<h2 id="preparing-images">Preparing images</h2>

<ul>
  <li>Wherever possible, convert images to SVG so that they scale beautifully but also remain small in file-size for web use.</li>
  <li>Ensure that raster images, or raster/bitmap elements in SVG, are high-res enough for printing (e.g. 300dpi at full size).</li>
  <li>Embed images placed in your SVG image, don’t just link them.</li>
  <li>Create a JPG version of every SVG image with the same file name (e.g. <code class="highlighter-rouge">bear.svg</code> and <code class="highlighter-rouge">bear.jpg</code>). You’ll need the JPG fallback for EPUB. (We recommend JPG over GIF or PNG as a general default. One reason is that transparency seems like a good idea until your end-user switches their e-reader to ‘night mode’, and your black line-art disappears into the background.)</li>
  <li>Save images in the book’s <code class="highlighter-rouge">images</code> folder.</li>
</ul>

<p>Here’s our most common workflow for converting images to SVG:</p>

<ul>
  <li>If the image was created in InDesign (e.g. a flowchart made of InDesign frames): open in InDesign, group the frames that make up the image, copy, and paste into a new Illustrator file. Adjust Illustrator file artboards as necessary, then save as SVG.</li>
  <li>If the image was created in Photoshop or other raster format: open the original, copy into Illustrator. Live trace the image. (We mostly use the ‘Detailed Illustration’ preset.) Save as SVG. You can also use the trace function in Inkscape instead of Illustrator.</li>
  <li>If you save SVG from Adobe Illustrator (and possibly other creators, too), choose to convert type to outlines. (For us, the main reason for this is that PrinceXML gives unpredictable results with type in SVG. But it’s probably safest generally to convert type to outlines for consistent output.)</li>
</ul>

<h3 id="recommended-image-sizes">Recommended image sizes</h3>

<p>We like to use these settings where possible:</p>

<ul>
  <li>Default width: 115mm</li>
  <li>Aspect ratios: 4:3 (portrait or landscape), a closer ratio, or square. Images at wider ratios (e.g. 16:9) than 4:3 make layout more difficult.</li>
  <li>Therefore, maximum height is 150mm. (That’s very slightly less than a 4:3 height:width ratio.)</li>
</ul>

<p>Using Illustrator? Different SVG editors treat image size differently. For instance, a 2-inch-wide image in Illustrator will appear 1.6 inches wide in Prince and Inkscape. Why? Because when creating the SVG’s XML, Illustrator includes its dimensions in pixels, and <em>assumes a 72dpi resolution</em>, where Prince and Inkscape follow the W3C SVG spec and assume 90dpi. As a result, images coming out of Illustrator always appear 80% of their intended size. So, if you’re creating images in Illustrator, set your image sizes to 125% of what you intend to appear in the book. That means:</p>

<ul>
  <li>default width 115mm × 125% = 143.75mm</li>
  <li>max height (at 4:3) = 190mm</li>
</ul>

<p>Check out <a href="https://helpx.adobe.com/illustrator/using/saving-artwork.html#save_in_svg_format">Adobe’s guidance on saving SVGs</a>.</p>

<h3 id="resolution">Resolution</h3>

<ul>
  <li>For SVG images, the editor you use will determine underlying resolution. Illustrator uses 72dpi, and Inkscape 90dpi. We favour and assume 90dpi, but can rescale SVG images with  our stylesheets just in case.</li>
  <li>For JPGs, our default resolution should be 200dpi and image quality of 80 (‘very high’ in Adobe presets). This allows for reasonable print quality while keeping file sizes sensible for web delivery. The higher resolution also allows ebook users to zoom in for more detail.</li>
  <li>To get a 200dpi JPG that is 115 mm wide, the image must be 906 pixels wide. (115mm is 4.53 inches, which contains 906 pixels at 200 pixels per inch, aka 200 dpi.)</li>
  <li>Try to keep JPG file sizes below 127KB: <a href="http://authoradventures.blogspot.com/2014/02/image-size-limit-increased-in-kindle.html">Amazon Kindle may automatically downsample images above that</a>, and it’s better if you control the downsampling for quality than let their servers do it. However, for raster-only images (e.g. x-rays or photos) if a larger size is required for acceptable print quality then larger is fine.</li>
</ul>

<h3 id="image-styles">Image styles</h3>

<p>We like these approaches to artwork, where possible:</p>

<ul>
  <li>Default style: Black and white line art, with average 1mm line thickness.</li>
  <li>Use shades of grey only where needed, and as few shades as possible.</li>
  <li>Use the same font and size for all labels. (We like <a href="https://www.google.com/fonts/specimen/Source+Sans+Pro">Source Sans Pro</a> at 10pt on 115mm-wide images, 11pt on 145mm-wide images (see note above on using Illustrator).</li>
  <li>Fit artboards to artwork bounds; there must be no white space around the art in an image. (We control space with styling.) Since you’re creating images to a specific size, you need to <strong>expand artwork to fit the artboard</strong>, <em>not</em> fit artboards to artwork bounds, which would make your whole image smaller.</li>
</ul>

<p>If you use live trace to create art from a raster source, you must clean up the file to remove unnecessary fills that add to file size but do little for clarity.</p>

<p>Settings:</p>

<ul>
  <li>Default file format: SVG</li>
  <li>Convert type to outlines (the alternative to embed and subset fonts doesn’t work reliably in print output currently)</li>
  <li>Raster elements embedded, not linked</li>
  <li>Transparent background</li>
</ul>

<p>Where images <em>must</em> be raster (e.g. x-rays, photos), they should follow the sizing constraints above and be saved as jpg (since Amazon Kindle only uses JPG or GIF, avoid PNG or other formats). Save as RGB.</p>

<p>Where labels are added to a raster image, the image should be saved as SVG with an embedded raster image. Labels and other text should <em>not</em> be rasterised.</p>

<p>If you’re creating images from InDesign originals using Illustrator, a suggested workflow:</p>

<ul>
  <li>If the image was created in InDesign (e.g. a flowchart made of InDesign frames): open in InDesign, group the frames that make up the image, copy, and paste into a new Illustrator file. Adjust Illustrator file artboards as necessary, then save as SVG.</li>
  <li>If the image was created in Photoshop or other raster format: open the original, copy into Illustrator. Live trace the image. I mostly used the ‘Detailed Illustration’ preset. Save as SVG.</li>
  <li>For filenaming, use the convention 1-2.svg, as in chapter-figure.svg. For skills workshops images, that might be 1E-B.svg for workshop 1E, figure B. All the images go in an images folder inside the folder with the markdown files.</li>
  <li>If you save SVG from Adobe Illustrator (and possibly other creators, too), choose to convert type to outlines. Currently, PrinceXML does not support fonts in type in SVG reliably.</li>
  <li>To save a little more on file size, also convert all strokes to fills.</li>
</ul>

<h3 id="image-file-sizes">Image file sizes</h3>

<p>If you SVGs seem big, <a href="http://stackoverflow.com/a/7068651/1781075">read up on optimising SVGs</a>, and/or (if you’re comfortable using Python scripts) run your SVGs through <a href="http://codedread.com/scour/">Scour</a>.</p>

<h3 id="cover-images">Cover images</h3>

<p>Add the front-cover image to the book’s <code class="highlighter-rouge">images</code> folder. Ensure colour settings are RGB and the DPI is set to 72. We recommend creating the image in three sizes:</p>

<ul>
  <li><code class="highlighter-rouge">cover.jpg</code>: 960px high (in keeping with epub best practice these are just under 1000px on their longest side)</li>
  <li><code class="highlighter-rouge">cover-thumb.jpg</code>: 300px wide</li>
  <li><code class="highlighter-rouge">cover-large.jpg</code>: 2000px high</li>
</ul>

<p>The first is mandatory. The thumbnail and large images are for your convenience. For instance, when uploading a book to Amazon Kindle, you must provide a cover image this large.</p>

	</div><!--#wrapper-->
	









































    <div id="footer">
        <div class="footer-content">
            <p>
                Built with an <a href='http://electricbook.works'>Electric Book</a>
            </p>
        </div><!--.footer-content-->
    </div><!--#footer-->





<script src="/assets/js/elasticlunr.min.js"></script>
<script src="/assets/js/mark.min.js"></script>
<script src="/assets/js/search.js"></script>
<script src="/assets/js/mark-search-terms.js"></script>






</body>
</html>



